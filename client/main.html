<head>
  <title>Remote [RUN]</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/xterm/3.14.5/xterm.min.css" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/xterm/3.14.5/xterm.min.js"></script>
</head>
<!--  -->

<body>
  <!-- <div class="section"> -->
  <div class="columns is-marginless is-paddingless is-centered">
    {{#unless isLoggedSession}}
    <!-- {{isLoggedSession}} -->
    {{>login}}
    {{/unless}}
    <!--  -->
    {{#if getSetting 'files'}}
    <div class="column is-2">
      <aside class="menu">
        <p class="menu-label has-text-centered">
          <!-- {{isLoggedSession}} -->
          Jobs
        </p>
        <hr />
        {{> remoteFiles}}
        <hr />

      </aside>
    </div>
    <!--  -->
    <div class="column is-10 is-paddingless is-marginless is-fh notification">
      <div class="">
        {{> console}}
      </div>
    </div>
    {{else}}
    {{/if}}
  </div>
  <!-- </div> -->
</body>
<!--  -->
<template name="remoteFiles">
  <ul class="menu-list notification is-white">
    {{#each files}}
    <li><a href="#" class="is-capitalized runCommand" data-val="{{id}}">{{name}}</a> </li>
    {{/each}}
    <hr>
    <a href="#" class="exit">Exit</a>
  </ul>
</template>
<!-- console -->
<template name="console">
  <article class="notification is-light is-radiusless" style="min-height:600px;">
    <!--  -->
    <div class="">
      {{> logs}}
    </div>
  </article>
</template>
<!--  -->
<!-- logs -->
<template name="logs">
  {{#each eventsList}}
  <div class="notification is-white">
    <div class="notification is-white">
      <nav class="level">
        <div class="level-item has-text-centered">
          <div>
            <p class="heading">Job</p>
            <p class="title is-5 is-capitalized">{{name}}</p>
          </div>
        </div>
        <div class="level-item has-text-centered">
          <div>
            <p class="heading">Started at</p>
            <p class="titlex">{{moFormat createdAt 'DD.MM,YYYY ' }}</p>
            <p class="titlex">{{moFormat createdAt 'HH:mm:ss' }}</p>
          </div>
        </div>

        {{#if finishedAt}}

        <div class="level-item has-text-centered">
          <div>
            <p class="heading">Finished at</p>
            <p class="titlex">{{moFormat finishedAt 'DD.MM.YYYY'}}</p>
            <p class="titlex">{{moFormat finishedAt 'HH:mm:ss'}}</p>
          </div>
        </div>
        <div class="level-item has-text-centered">
          <div class="notification is-primary">
            <p class="heading">Status</p>
            <p class="titlex">Success</p>
          </div>
        </div>

        {{else}}

        <div class="level-item has-text-centered">
          <div>
            <p class="heading">Command executed</p>
            <p class="titlex">at {{moFormat createdAt 'HH:mm:ss' }}</p>
          </div>
        </div>


        <div class="level-item has-text-centered">
          <div class="notificationx is-warningx">
            <p class="heading">Status</p>
            <p class="titlex">In progress......</p>
          </div>
        </div>

        {{/if}}


      </nav>
      <!--  -->
      <hr />

      <p class="titlex content is-small"> Command: <span class="is-italic is-small is-family-monospace">{{command}}</span></p>

      <!--  -->
      <!-- Log -->
      {{#unless finishedAt}}
      <progress class="progress is-small is-dark" max="100">15%</progress>

      {{/unless}}

      <!-- {{#if finishedAt}} -->
      <div class="log-block is-scroll">
        {{#each mkLine log}}
        $ {{this}} <br />
        {{/each}}
      </div>
      <!-- {{/if}} -->
      <!--  -->
    </div>
  </div>
  {{/each}}
</template>

<!-- Login -->
<template name="login">
  <div class="column is-3">
    <br />
    <br />
    <br />
    <article class="message is-primary">
      <div class="message-header">
        <p>Enter a passkey</p>
        <button class="delete" aria-label="delete"></button>
      </div>
      <!--  -->
      <div class="message-body">
        <input class="input text check" name="password" placeholder="Write the passkey">
      </div>
    </article>
    <div>
    </div>
  </div>
</template>